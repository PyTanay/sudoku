(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(1),o=n.n(c),i=n(29),a=n.n(i),s=(n(45),n(11)),l=n(5),u=n.p+"static/media/logo.6ce24c58.svg",f=(n(46),n(10)),j=n(4),d=n(21),h=n.n(d),b=(n(57),n(58),n(30)),O=n(31),p=n(39),v=n(37),m=(n(59),["Beginner","Easy","Medium","Hard","Extreme"]),x=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var c;return Object(b.a)(this,n),(c=t.call(this,e)).handleClick=function(e){c.setState({isOpen:!c.state.isOpen})},c.handleText=function(e){c.setState({haveText:e.currentTarget.textContent})},c.itemList=function(e){var t=e.map((function(e){return Object(r.jsx)("div",{onClick:c.handleText,className:"dropdown__item",children:e},e.toString())}));return Object(r.jsxs)("div",{className:"dropdown__items",children:[" ",t," "]})},c.state={isOpen:!1,haveText:"Medium"},c}return Object(O.a)(n,[{key:"componentDidUpdate",value:function(){this.props.setMode(this.state.haveText)}},{key:"render",value:function(){var e=this.state,t=e.isOpen,n=e.haveText;return Object(r.jsxs)("div",{className:t?"dropdown active":"dropdown",onClick:this.handleClick,children:[Object(r.jsx)("div",{className:"dropdown__text",children:n||"Select Mode"}),this.itemList(m)]})}}]),n}(c.Component);var g=function(){Object(c.useEffect)((function(){fetch("puzzleList.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e.database;o(t)})).catch((function(e){console.log("File could not be loaded for some reason!",e)})),i(Array(9).fill(Array(9).fill(null))),a(Array.from({length:9},(function(){return Array.from({length:9},(function(){return Array.from("123456789")}))})))}),[]);var e=Object(c.useContext)(_),t=e.mode,n=e.setMode,o=e.setDatabase,i=e.setSolution,a=e.setSolMatrix;return Object(r.jsx)("div",{className:"homePage",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{src:"sudoku.png",alt:"Sudoku-Logo"}),Object(r.jsx)("div",{className:"dropDown1",children:Object(r.jsx)(x,{setMode:n})}),Object(r.jsx)("div",{className:"dummyDropDown"}),Object(r.jsx)(f.b,{to:"/main/".concat(t),style:{textDecoration:"none"},children:Object(r.jsx)("div",{className:"btn1",children:"New Game"})}),Object(r.jsx)(f.b,{to:"/main/create",style:{textDecoration:"none"},children:Object(r.jsx)("div",{className:"btn1",children:"Create Sudoku"})})]})})};n(63);var S=function(e){var t=Object(c.useContext)(_),n=t.selected,o=t.setSelected,i=t.value,a=t.getCol,s=t.getBlock,u=t.getBlockAddress,f=t.initialValue,j=t.path,d=t.setPath,h=t.solution,b=t.displayError,O=t.highlight,p=Object(c.useState)([e.row,e.col]),v=Object(l.a)(p,1)[0],m=Object(c.useState)(b),x=Object(l.a)(m,2),g=x[0],S=x[1],y=["singleBox"],N=Object(c.useRef)();Object(c.useEffect)((function(){N.current=i})),Object(c.useEffect)((function(){S(b)}),[b]);var w=N.current;return Object(c.useEffect)((function(){if(void 0!==w&&void 0!==f){var t=i[e.row][e.col],n=w[e.row][e.col];if(t!==n&&null===f[e.row][e.col]){var r={row:e.row,col:e.col,currVal:t,prevVal:n},c=JSON.parse(JSON.stringify(j));c.push(r),d(c)}}}),[i]),f.length>0&&null!==f[v[0]][v[1]]&&y.push("disabledBox"),n.toString()!==v.toString()||y.includes("selectedBox")?y=y.filter((function(e){return"selectedBox"!==e})):y.push("selectedBox"),!g||i[v[0]][v[1]]===h[v[0]][v[1]]||null===i[v[0]][v[1]]||y.includes("errorBox")||y.includes("disabledBox")?y=y.filter((function(e){return"errorBox"!==e})):y.push("errorBox"),null!==i[v[0]][v[1]]&&void 0!==n[0]&&(i[v[0]][v[1]]===i[n[0]][n[1]]&&v.toString()!==n.toString()?y.push("similarBox"):y=y.filter((function(e){return"similarBox"!==e}))),void 0!==n[0]&&null!==i[n[0]][n[1]]&&v[0]===n[0]&&v[1]!==n[1]&&(i[v[0]].filter((function(e){return e===i[n[0]][n[1]]})).length>1&&i[v[0]][v[1]]===i[n[0]][n[1]]?y.push("dangerBox"):y=y.filter((function(e){return"dangerBox"!==e}))),void 0!==n[0]&&null!==i[n[0]][n[1]]&&v[1]===n[1]&&v[0]!==n[0]&&(a(i,n[1]).filter((function(e){return e===i[n[0]][n[1]]})).length>1&&i[v[0]][v[1]]===i[n[0]][n[1]]?y.push("dangerBox"):y=y.filter((function(e){return"dangerBox"!==e}))),void 0!==n[0]&&null!==i[n[0]][n[1]]&&v[0]!==n[0]&&u(v).toString()===u(n).toString()&&(s(i,u(v)).filter((function(e){return e===i[v[0]][v[1]]})).length>1&&i[v[0]][v[1]]===i[n[0]][n[1]]?y.push("dangerBox"):y=y.filter((function(e){return"dangerBox"!==e}))),null!==O&&i[v[0]][v[1]]===O&&y.push("similarBox"),Object(r.jsx)("div",{onClick:function(){return o(v)},className:y.join(" "),children:Object(r.jsx)("div",{className:"text1",children:i[v[0]][v[1]]})})};n(64);var y=function(e){var t=Object(c.useState)(e.row),n=Object(l.a)(t,1)[0];return Object(r.jsx)("div",{className:"oneRow",children:Object(s.a)(Array(9)).map((function(e,t){return 2===t||5===t?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(S,{col:t,row:n}),Object(r.jsx)("div",{className:"vLine"})]},t):Object(r.jsx)(S,{col:t,row:n},t)}))})};n(65);var N=function(){var e=Object(c.useContext)(_),t=e.selected,n=e.setSelected,i=e.value,a=e.setValue,l=e.initialValue;return Object(c.useEffect)((function(){var e=function(e){if(0!==t.length&&void 0!==t[0]){if(/[1-9]/.test(e.key)){var r=JSON.parse(JSON.stringify(i));r[t[0]][t[1]]=e.key,a(r)}if(["ArrowUp","ArrowLeft","ArrowDown","ArrowRight"].includes(e.key))switch(e.preventDefault(),e.key){case"ArrowUp":var c=1;if(0!==t[0])for(;null!==l[t[0]-c][t[1]];)t[0]-c===0?c=0:c++;else c=0;0!==t[0]&&n([t[0]-c,t[1]]);break;case"ArrowLeft":var o=1;if(0!==t[1])for(;null!==l[t[0]][t[1]-o];)t[1]-o===0?o=0:o++;else o=0;0!==t[1]&&n([t[0],t[1]-o]);break;case"ArrowDown":var u=1;if(8!==t[0])for(;null!==l[t[0]+u][t[1]];)t[0]+u===8?u=0:u++;else u=0;8!==t[0]&&n([t[0]+u,t[1]]);break;case"ArrowRight":var f=1;if(8!==t[1])for(;null!==l[t[0]][t[1]+f];)t[1]+f===8?f=0:f++;else f=0;8!==t[1]&&n([t[0],t[1]+f])}if("Delete"===e.key){var j=i;j[t[0]][t[1]]=null,a(Object(s.a)(j))}"Escape"===e.key&&n([])}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t]),Object(r.jsx)("div",{className:"wholeGrid",children:Object(s.a)(Array(9)).map((function(e,t){return 2===t||5===t?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(y,{row:t}),Object(r.jsx)("div",{className:"hLine"})]},t):Object(r.jsx)(y,{row:t},t)}))})},w=(n(66),n(38));var C=function(e){var t=Object(c.useContext)(_),n=t.value,o=t.setValue,i=t.selected,a=t.setHighlight,s=t.initialValue,l=t.timerControls,u=t.setDisplayError,f=Object(j.f)(),d=e.val>=0&&e.val<10?null:e.val.props.tip;return Object(r.jsx)("div",{className:"numberSelector",onClick:function(){if(i[0]>=0){var t=JSON.parse(JSON.stringify(n));e.val>=0&&e.val<10?t[i[0]][i[1]]=e.val.toString():"Delete"===e.val.props.tip&&(t[i[0]][i[1]]=null),o(t),a(null)}else a(e.val.toString());e.val>=0&&e.val<10||("Reset"===e.val.props.tip?s.length>0&&(o(s),l.current.reset(),l.current.start()):"Home"===e.val.props.tip?f.push("/"):"Check"===e.val.props.tip&&(u(!0),setTimeout((function(){u(!1)}),2e3)))},children:Object(r.jsxs)("div",{className:"text","data-tip":d,children:[Object(r.jsx)(w.a,{effect:"solid",delayShow:500,border:!0,borderColor:" rgb(56, 125, 204)"}),e.val]})})},k=(n(67),n(12)),E=n(35),A=n(24),B=n(36),J=n(15),L=(n(68),n(34)),D=n(33);var M=function(){var e=Object(c.useContext)(_),t=e.value,n=e.initialValue,o=e.getCol,i=e.getBlock,a=e.getBlockAddress,s=e.solution,u=e.setSolution,f=e.setDisplayError,d=e.Popup,h=e.timerControls,b=e.timeValue,O=e.solMatrix,p=e.setSolMatrix,v=Object(c.useState)(!1),m=Object(l.a)(v,2),x=m[0],g=m[1],S=Object(c.useState)(1),y=Object(l.a)(S,2),N=y[0],w=y[1],C=Object(j.f)();Object(c.useEffect)((function(){setTimeout((function(){g(!0),u(A(t))}),200)}),[]),Object(c.useEffect)((function(){!1===E(s)&&N<20&&!0===x?(u(A(s)),w(N+1)):!0===E(s)?(console.log("Sudoku successfully solved"),u(s),console.log(s),g(!1),w(1)):20===N?(console.log("Maximum iteration reached, Could not solve the sudoku."),console.log(s),g(!1),w(1)):(console.log("something's wrong"),g(!1),w(1))}),[s]),Object(c.useEffect)((function(){void 0!==n&&(k(n)||function(e){var t=0;if(e.forEach((function(e,n){e.forEach((function(e,r){e!==s[n][r]&&t++}))})),0===t){for(var n=0;n<6;n++)setTimeout((function(){return Object(D.a)({particleCount:100,startVelocity:30,spread:360,origin:{x:Math.random(),y:Math.random()-.2}})}),500*n);h.current.pause(),setTimeout((function(){d.create({title:"Congratualtions!!!",content:"You finished the sudoku correctly in ".concat(0!==b.current.hour?b.current.hour+" h":""," ").concat(0!==b.current.min?b.current.min+" m":""," ").concat(b.current.sec+" s"),buttons:{left:[{text:"Cancel",className:"danger",action:function(){d.close()}}],right:[{text:"New Sudoku",className:"success",action:function(){C.push("/"),d.close()}}]}})}),1e3)}}(t))}),[t]);var k=function(e){var t=0;return e.forEach((function(e){e.forEach((function(e){null===e&&t++}))})),81===t},E=function(e){var t=[];return e.forEach((function(e){e.forEach((function(e){return t.push(e)}))})),0===(t=t.filter((function(e){return null===e}))).length},A=function(e){var n=JSON.parse(JSON.stringify(e)),r=Array(9).fill([]);return O.forEach((function(e,c){var s=[];e.forEach((function(e,r){if(null===t[c][r]){var l=n[c].filter((function(e){return null!==e})).filter((function(e){return e!==n[c][r]})),u=o(n,r).filter((function(e){return null!==e})).filter((function(e){return e!==n[c][r]})),f=i(n,a([c,r])).filter((function(e){return null!==e})).filter((function(e){return e!==n[c][r]})),j=e.filter((function(e){return!l.includes(e)}));j=(j=j.filter((function(e){return!u.includes(e)}))).filter((function(e){return!f.includes(e)}))}else j=[t[c][r]];s.push(JSON.parse(JSON.stringify(j))),1===j.length&&null===n[c][r]&&(n[c][r]=j[0])})),r[c]=JSON.parse(JSON.stringify(s))})),r.forEach((function(e,t){e.forEach((function(e,c){var o=M(e,r,t,c);null!==o&&null===n[t][c]&&(n[t][c]=o,r[t][c]=[o])}))})),B(r),n},B=function(e){var t=JSON.parse(JSON.stringify(e));t.forEach((function(e,n){e.forEach((function(e,r){var c=t[n],s=o(t,r),l=i(t,a([n,r]));e=J(e,c),e=J(e,s),e=J(e,l),t[n][r]=e}))})),p(t)},J=function(e,t){var n=JSON.parse(JSON.stringify(e)),r=[];return t.forEach((function(e){2===e.length&&2===t.filter((function(t){return t.toString()===e.toString()})).length&&e.toString()!==n.toString()&&(r.includes(e[0])||r.includes(e[1])||(r.push(e[0]),r.push(e[1])))})),n=n.filter((function(e){return!r.includes(e)}))},M=function(e,t,n,r){var c=JSON.parse(JSON.stringify(t)),s=V(e,c[n]),l=V(e,o(c,r)),u=V(e,i(c,a([n,r])));return s||(l||(u||null))},V=function(e,t){var n=JSON.parse(JSON.stringify(t)),r=[];n.forEach((function(e){return e.forEach((function(e){return r.push(e)}))}));var c=[];return e.forEach((function(e){return 1===r.filter((function(t){return t===e})).length&&c.push(e)})),c.toString()};return Object(r.jsxs)("button",{className:"btn",onClick:function(){f(!0),setTimeout((function(){f(!1)}),2e3)},children:[Object(r.jsx)(L.a,{})," Check"]})};var V=function(){var e=Object(c.useContext)(_),t=e.value,n=e.setValue,o=e.initialValue,i=e.timerControls,a=e.mode;return Object(r.jsxs)("div",{className:"utility",children:[Object(r.jsxs)("button",{className:"btn",onClick:function(){var e=new Date(Date.now()),n={creator:"Tanay",mode:a.toLowerCase(),time:e.toLocaleString("en-GB"),data:t};console.log(JSON.stringify(n))},children:[Object(r.jsx)(k.b,{})," Export Sudoku"]}),Object(r.jsxs)("button",{className:"btn",onClick:function(){o.length>0&&(n(o),i.current.reset(),i.current.start())},children:[Object(r.jsx)(k.c,{})," Reset"]}),Object(r.jsx)(M,{})]})};var T=function(){var e=[1,2,3,4,5,6,7,8,9,Object(r.jsx)(k.a,{tip:"Delete"}),Object(r.jsx)(J.a,{tip:"Step Back"}),Object(r.jsx)(A.a,{tip:"Pause"}),Object(r.jsx)(J.b,{tip:"Step Forward"})];return window.innerWidth<=600&&(e=[1,2,3,4,5,6,7,8,9,Object(r.jsx)(J.a,{tip:"Step Back"}),Object(r.jsx)(k.a,{tip:"Delete"}),Object(r.jsx)(J.b,{tip:"Step Forward"}),Object(r.jsx)(E.a,{tip:"Home"}),Object(r.jsx)(k.b,{tip:"Export"}),Object(r.jsx)(k.d,{tip:"Reset"}),Object(r.jsx)(B.a,{tip:"Check"}),Object(r.jsx)(A.a,{tip:"Pause"})]),Object(r.jsxs)("div",{className:"allNumSel",children:[e.map((function(e,t){return Object(r.jsx)(C,{val:e},t)})),window.innerWidth>620&&Object(r.jsx)(V,{})]})},F=(n(69),n(16)),P=n.n(F);var R=function(){var e=Object(c.useContext)(_),t=e.timerControls,n=e.timeValue;return Object(r.jsx)("div",{className:"pillBox",children:Object(r.jsx)(P.a,{children:function(e){var c=e.start,o=e.resume,i=e.pause,a=e.stop,s=e.reset,l=e.timerState;return void 0===t.current.start&&(t.current={start:c,resume:o,pause:i,stop:a,reset:s,timerState:l}),Object(r.jsxs)(r.Fragment,{children:["Timer :",Object(r.jsx)(P.a.Hours,{formatValue:function(e){return 0!==e?(n.current.hour=e," ".concat(e," h")):null}}),Object(r.jsx)(P.a.Minutes,{formatValue:function(e){return 0!==e?(n.current.min=e," ".concat(e," m")):null}}),Object(r.jsx)(P.a.Seconds,{formatValue:function(e){return n.current.sec=e," ".concat(e," s")}})]})}})})};var H=function(e){var t=e.match,n=Object(c.useContext)(_),o=n.setSelected,i=n.setHighlight,a=n.setInitialValue,s=n.mode,l=n.database,u=n.setDatabase;return Object(c.useEffect)((function(){var e=function(e){"text1"!==e.target.classList[0]&&"text"!==e.target.classList[0]&&(o([void 0,void 0]),i(null))};if("create"!==t.params.id.toLowerCase())if(0===l.length)fetch("puzzleList.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e.database;return u(t),t})).then((function(e){var n=JSON.parse(JSON.stringify(e));n=n.filter((function(e){return e.mode.toLowerCase()===t.params.id.toLowerCase()}));var r=Math.floor(Math.random()*n.length);r===n.length&&r--,a(n[r].data)})).catch((function(e){console.log("File could not be loaded for some reason!",e)}));else{var n=JSON.parse(JSON.stringify(l));n=n.filter((function(e){return e.mode.toLowerCase()===s.toLowerCase()}));var r=Math.floor(Math.random()*n.length);r===n.length&&r--,a(n[r].data)}else a(Array(9).fill(Array(9).fill(null)));return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"iconBar",children:Object(r.jsx)(R,{})}),Object(r.jsxs)("div",{className:"mainGame",children:[Object(r.jsx)(N,{}),Object(r.jsx)(T,{})]})]})},_=o.a.createContext();var I=function(){var e=Object(c.useState)([void 0,void 0]),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(Array(9).fill(Array(9).fill(null))),a=Object(l.a)(i,2),d=a[0],b=a[1],O=Object(c.useState)(Array(9).fill(Array(9).fill(null))),p=Object(l.a)(O,2),v=p[0],m=p[1],x=Object(c.useState)(Array(9).fill(Array(9).fill(null))),S=Object(l.a)(x,2),y=S[0],N=S[1],w=Object(c.useState)(!1),C=Object(l.a)(w,2),k=C[0],E=C[1],A=Object(c.useState)([]),B=Object(l.a)(A,2),J=B[0],L=B[1],D=Object(c.useState)("medium"),M=Object(l.a)(D,2),V=M[0],T=M[1],F=Object(c.useState)(null),P=Object(l.a)(F,2),R=P[0],I=P[1],z=Object(c.useState)([]),G=Object(l.a)(z,2),U=G[0],W=G[1],Y=Object(c.useState)(Array.from({length:9},(function(){return Array.from({length:9},(function(){return Array.from("123456789")}))}))),q=Object(l.a)(Y,2),K=q[0],Q=q[1],X=Object(c.useRef)({}),Z=Object(c.useRef)({hour:0,min:0,sec:0});Object(c.useEffect)((function(){v.length>0&&b(Object(s.a)(v))}),[v]);var $={selected:n,setSelected:o,setInitialValue:m,value:d,setValue:b,getCol:function(e,t){var n=[];return e.forEach((function(e){n.push(e[t])})),n},getBlock:function(e,t){var n=[];return e.forEach((function(e,r){r<3*t[0]&&r>=3*(t[0]-1)&&n.push.apply(n,Object(s.a)(e.slice(3*(t[1]-1),3*t[1])))})),n},getBlockAddress:function(e){return[Math.floor(e[0]/3+1),Math.floor(e[1]/3+1)]},initialValue:v,solution:y,setSolution:N,path:J,setPath:L,displayError:k,setDisplayError:E,Popup:h.a,timerControls:X,timeValue:Z,highlight:R,setHighlight:I,mode:V,setMode:T,database:U,setDatabase:W,solMatrix:K,setSolMatrix:Q};return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(f.a,{children:[Object(r.jsx)(h.a,{}),document.getElementById("popupContainer"),Object(r.jsxs)(_.Provider,{value:$,children:[Object(r.jsxs)("div",{className:"appHeader",children:[Object(r.jsx)("img",{src:u,className:"App-logo",alt:"logo"}),Object(r.jsx)(f.b,{to:"/",style:{textDecoration:"none"},children:Object(r.jsx)("h1",{className:"title",children:"Sudoku"})}),Object(r.jsx)("img",{src:u,className:"App-logo",alt:"logo"})]}),Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{path:"/",exact:!0,component:g}),Object(r.jsx)(j.a,{path:"/main/:id",exact:!0,component:H})]})]})]})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),o(e),i(e)}))};a.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(I,{})}),document.getElementById("root")),z()}},[[74,1,2]]]);
//# sourceMappingURL=main.7c504ea2.chunk.js.map